<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery | Mizo Amin - Qatar Basketball Captain</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">

    <style>
        :root {
            --gold: #D4AF37;
            --black: #0a0a0a;
            --dark: #111;
            --light: #fff;
        }
        body { background: var(--black); color: var(--light); font-family: 'Roboto', sans-serif; margin: 0; }
        
        header { text-align: center; padding: 40px 20px; border-bottom: 1px solid #333; }
        h1 { font-family: 'Oswald', sans-serif; color: var(--gold); margin: 0; font-size: 2.5rem; text-transform: uppercase; }
        
        /* ÙÙ„ØªØ± Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª */
        .filters { text-align: center; padding: 20px; }
        .filter-btn {
            background: #222; border: 1px solid #444; color: #fff;
            padding: 8px 16px; margin: 5px; cursor: pointer;
            border-radius: 20px; transition: 0.3s;
        }
        .filter-btn:hover, .filter-btn.active { background: var(--gold); color: #000; font-weight: bold; }

        /* Ø§Ù„Ø´Ø¨ÙƒØ© */
        .gallery-grid {
            column-count: 3; column-gap: 20px; padding: 20px;
            max-width: 1400px; margin: 0 auto;
        }
        @media (max-width: 1000px) { .gallery-grid { column-count: 2; } }
        @media (max-width: 600px) { .gallery-grid { column-count: 1; } }

        /* Ø§Ù„ÙƒØ§Ø±Øª */
        .item {
            background: var(--dark); border-radius: 8px; overflow: hidden;
            margin-bottom: 20px; break-inside: avoid;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            transition: transform 0.3s;
            position: relative;
        }
        .item:hover { transform: translateY(-5px); border: 1px solid var(--gold); }
        
        .item img { width: 100%; display: block; min-height: 200px; background: #222; }
        
        .info { padding: 15px; }
        .title { color: var(--gold); font-family: 'Oswald', sans-serif; margin: 0 0 5px; font-size: 1.1rem; }
        .tags { font-size: 0.8rem; color: #888; }
        
        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£ */
        .error-msg { color: red; font-size: 0.8rem; padding: 10px; display: none; }
    </style>
</head>
<body>

    <header>
        <h1>Mizo Amin Gallery</h1>
        <p style="color: #888;">Professional Journey & Personal Moments</p>
    </header>

    <div class="filters" id="filterContainer">
        <button class="filter-btn active" onclick="filterGallery('all')">All</button>
    </div>

    <div class="gallery-grid" id="gallery">Loading...</div>

    <script>
        const JSON_URL = 'assets/data/mizo_gallery_data.json';
        const BASE_IMG_PATH = 'assets/images/gallery/';

        async function initGallery() {
            try {
                const response = await fetch(JSON_URL);
                if (!response.ok) throw new Error("Failed to load JSON Data");
                
                const data = await response.json();
                const gallery = document.getElementById('gallery');
                gallery.innerHTML = ''; // Ù…Ø³Ø­ ÙƒÙ„Ù…Ø© Loading

                // 1. Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª (Tags) Ù„Ø¹Ù…Ù„ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙÙ„ØªØ±Ø©
                const allTags = new Set();
                data.forEach(img => {
                    if(img.tags) img.tags.forEach(t => allTags.add(t));
                });
                
                // (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø¥Ø¶Ø§ÙØ© Ø£Ø²Ø±Ø§Ø± Ù„Ø£Ù‡Ù… Ø§Ù„Ø£Ù„Ø¨ÙˆÙ…Ø§Øª
                // ÙŠÙ…ÙƒÙ†Ùƒ ØªÙØ¹ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù„Ø§Ø­Ù‚Ø§Ù‹

                // 2. Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±
                data.forEach(img => {
                    const el = document.createElement('div');
                    el.className = 'item';
                    
                    // --- ğŸ› ï¸ ØªØµØ­ÙŠØ­ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø°ÙƒÙŠ ---
                    // Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙŠ Ù…Ù„Ù JSON Ù…ÙØªØ§Ø­ filepath Ù†Ø³ØªØ®Ø¯Ù…Ù‡ (Ù„Ø£Ù†Ù‡ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ÙÙˆÙ„Ø¯Ø±)
                    // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ØŒ Ù†Ø³ØªØ®Ø¯Ù… filename ÙˆÙ†Ø£Ù…Ù„ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„ÙÙˆÙ„Ø¯Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
                    // Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª V17 ÙŠØ¶ÙŠÙ filepathØŒ ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ Ø±ÙØ¹Øª Ø£Ø­Ø¯Ø« JSON.
                    
                    let finalSrc = BASE_IMG_PATH + (img.filepath || img.filename);
                    
                    // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ø³Ø§Ø± (Ø£Ø­ÙŠØ§Ù†Ø§Ù‹ ÙŠÙƒÙˆÙ† ÙÙŠÙ‡ Ù…Ø³Ø§ÙØ§Øª ØªØ³Ø¨Ø¨ Ù…Ø´Ø§ÙƒÙ„)
                    finalSrc = finalSrc.replace(/ /g, '%20');

                    el.innerHTML = `
                        <a href="${finalSrc}" target="_blank">
                            <img src="${finalSrc}" 
                                 alt="${img.alt_text || 'Mizo Amin Photo'}" 
                                 onerror="this.parentElement.parentElement.querySelector('.error-msg').style.display='block'; this.style.display='none'">
                        </a>
                        <div class="info">
                            <h3 class="title">${img.title || 'Mizo Amin'}</h3>
                            <div class="tags">#${(img.tags || []).slice(0,3).join(' #')}</div>
                            <div class="error-msg">âš ï¸ Image Not Found: ${finalSrc}</div>
                        </div>
                    `;
                    gallery.appendChild(el);
                });

            } catch (err) {
                document.getElementById('gallery').innerHTML = `<h2 style="color:red;text-align:center">${err.message}</h2>`;
            }
        }

        initGallery();
    </script>
</body>
</html>
